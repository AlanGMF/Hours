<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <title>Reloj mundial</title>
  <style>
    * {
  box-sizing: border-box;
}

html, body {
  height: 100%;
  margin: 0;
}

body {
  font-family: system-ui, sans-serif;
  background: #1a1a1a;
  color: #e0e0e0;
  display: flex;
  flex-direction: column;
}

h1 {
  text-align: center;
  margin: 16px 0;
  flex: 0 0 auto;
  color: #ffffff;
  font-size: clamp(20px, 3vw, 32px);
}

#container {
  flex: 1 1 auto;
  width: 100%;
  height: 100%;
  padding: 12px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

#clocks {
  flex: 1 1 auto;
  display: grid;
  gap: clamp(8px, 1.5vw, 20px);
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  grid-auto-rows: 1fr;
  overflow-y: auto;
  padding: 4px;
}

.clock {
  background: #2d2d2d;
  border-radius: 20px;
  padding: clamp(16px, 3vw, 32px);
  box-shadow: 0 6px 16px rgba(0,0,0,0.4);
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  border: 1px solid #3a3a3a;
  min-height: 120px;
  transition: all 0.3s ease;
}

.clock:hover {
  border-color: #555;
  box-shadow: 0 8px 20px rgba(0,0,0,0.5);
}

.place {
  font-weight: 600;
  font-size: clamp(16px, 2vw, 28px);
  margin-bottom: clamp(8px, 1vw, 12px);
  text-align: center;
  color: #ffffff;
  line-height: 1.2;
}

.tz {
  font-size: clamp(11px, 1.5vw, 16px);
  color: #999;
  margin-bottom: clamp(12px, 2vw, 20px);
  text-align: center;
}

.time {
  font-family: monospace;
  font-size: clamp(24px, 5vw, 48px);
  letter-spacing: 2px;
  font-weight: 600;
  color: #666666;
  transition: color 0.3s ease;
}

.time.working {
  color: #4caf50;
}

.work-status {
  font-size: clamp(11px, 1.5vw, 14px);
  color: #999;
  margin-top: 8px;
  text-align: center;
}

@media (max-width: 768px) {
  #clocks {
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  }
}

@media (max-width: 480px) {
  #clocks {
    grid-template-columns: 1fr;
  }
  
  .clock {
    min-height: 100px;
  }
}
  </style>
</head>
<body>

<h1>Team Working Hours 游깴</h1>

<div id="container">
    <div id="clocks"></div>
</div>

<script>
  const locations = [
    { name: "United States (ET)", tz: "America/New_York", flag: "游쥟릖", workStart: 8, workEnd: 18 },
    { name: "Costa Rica", tz: "America/Costa_Rica", flag: "游뻟릖", workStart: 7, workEnd: 16 },
    { name: "Argentina", tz: "America/Argentina/Buenos_Aires", flag: "游뷣릖", workStart: 9, workEnd: 18 },
    { name: "Londres", tz: "Europe/London", flag: "游섫릖", workStart: 8, workEnd: 17 },
    { name: "Espa침a", tz: "Europe/Madrid", flag: "游쀯릖", workStart: 8, workEnd: 17 },
    { name: "Polonia", tz: "Europe/Warsaw", flag: "游왫릖", workStart: 8, workEnd: 17 },
    { name: "India", tz: "Asia/Kolkata", flag: "游쉻릖", workStart: 15, workEnd: 12 },
    { name: "Filipinas", tz: "Asia/Manila", flag: "游왫릖", workStart: 15, workEnd: 12 }
  ];
  
  const clocksEl = document.getElementById("clocks");

  const clocks = locations.map(loc => {
    const formatter = new Intl.DateTimeFormat("es-ES", {
      timeZone: loc.tz,
      hour: "2-digit",
      minute: "2-digit",
      second: "2-digit",
      hour12: false
    });

    const row = document.createElement("div");
    row.className = "clock";

    row.innerHTML = `
      <div class="place">${loc.flag} ${loc.name}</div>
      <div class="tz">${loc.tz}</div>
      <div class="time">--:--:--</div>
      <div class="work-status"></div>
    `;

    clocksEl.appendChild(row);

    return {
      formatter,
      timeEl: row.querySelector(".time"),
      statusEl: row.querySelector(".work-status"),
      workStart: loc.workStart,
      workEnd: loc.workEnd,
      tz: loc.tz
    };
  });

  function update() {
    const now = new Date();
    
    clocks.forEach(clock => {
      clock.timeEl.textContent = clock.formatter.format(now);
      
      const hourFormatter = new Intl.DateTimeFormat("es-ES", {
        timeZone: clock.tz,
        hour: "numeric",
        minute: "numeric",
        hour12: false
      });
      
      const timeStr = hourFormatter.format(now);
      const [currentHour, currentMinute] = timeStr.split(":").map(Number);
      const currentTimeInMinutes = currentHour * 60 + currentMinute;
      const workStartInMinutes = clock.workStart * 60;
      const workEndInMinutes = clock.workEnd * 60;
      
      // Verificar si est치 en horario laboral
      if (currentHour >= clock.workStart && currentHour < clock.workEnd) {
        clock.timeEl.classList.add("working");
        
        // Calcular cu치nto falta para que termine
        const minutesUntilEnd = workEndInMinutes - currentTimeInMinutes;
        const hoursUntilEnd = Math.floor(minutesUntilEnd / 60);
        const minsUntilEnd = minutesUntilEnd % 60;
        
        if (hoursUntilEnd > 0) {
          clock.statusEl.textContent = `Ends in: ${hoursUntilEnd}h ${minsUntilEnd}m`;
        } else {
          clock.statusEl.textContent = `Ends in: ${minsUntilEnd}m`;
        }
      } else {
        clock.timeEl.classList.remove("working");
        
        // Calcular cu치nto falta para que empiece
        let minutesUntilStart;
        if (currentHour < clock.workStart) {
          // Mismo d칤a
          minutesUntilStart = workStartInMinutes - currentTimeInMinutes;
        } else {
          // Pr칩ximo d칤a
          minutesUntilStart = (24 * 60 - currentTimeInMinutes) + workStartInMinutes;
        }
        
        const hoursUntilStart = Math.floor(minutesUntilStart / 60);
        const minsUntilStart = minutesUntilStart % 60;
        
        if (hoursUntilStart > 0) {
          clock.statusEl.textContent = `Starts in: ${hoursUntilStart}h ${minsUntilStart}m`;
        } else {
          clock.statusEl.textContent = `Starts in: ${minsUntilStart}m`;
        }
      }
    });
  }

  update();
  setInterval(update, 1000);
</script>

</body>
</html>